<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Using StellarTracks.jl from Python · StellarTracks.jl</title><meta name="title" content="Using StellarTracks.jl from Python · StellarTracks.jl"/><meta property="og:title" content="Using StellarTracks.jl from Python · StellarTracks.jl"/><meta property="twitter:title" content="Using StellarTracks.jl from Python · StellarTracks.jl"/><meta name="description" content="Documentation for StellarTracks.jl."/><meta property="og:description" content="Documentation for StellarTracks.jl."/><meta property="twitter:description" content="Documentation for StellarTracks.jl."/><meta property="og:url" content="https://cgarling.github.io/StellarTracks.jl/python/"/><meta property="twitter:url" content="https://cgarling.github.io/StellarTracks.jl/python/"/><link rel="canonical" href="https://cgarling.github.io/StellarTracks.jl/python/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/citations.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">StellarTracks.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li><a class="tocitem" href="../parsec/">PARSEC</a></li><li><a class="tocitem" href="../mist/">MIST</a></li><li><a class="tocitem" href="../basti_v1/">BaSTIv1</a></li><li><a class="tocitem" href="../basti_v2/">BaSTIv2</a></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../refs/">Bibliography</a></li><li class="is-active"><a class="tocitem" href>Using StellarTracks.jl from Python</a><ul class="internal"><li><a class="tocitem" href="#Example-Isochrone-Generation"><span>Example Isochrone Generation</span></a></li><li class="toplevel"><a class="tocitem" href="#Example-Track-Generation"><span>Example Track Generation</span></a></li></ul></li><li><a class="tocitem" href="../doc_index/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Using StellarTracks.jl from Python</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Using StellarTracks.jl from Python</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/cgarling/StellarTracks.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/cgarling/StellarTracks.jl/blob/main/docs/src/python.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="python"><a class="docs-heading-anchor" href="#python">Using StellarTracks.jl from Python</a><a id="python-1"></a><a class="docs-heading-anchor-permalink" href="#python" title="Permalink"></a></h1><p>If you are mainly a Python user and wish to use StellarTracks.jl and/or <a href="https://cgarling.github.io/BolometricCorrections.jl/stable/#overview">BolometricCorrections.jl</a> <em>from Python</em>, this guide will describe how to do so. </p><p>Julia can be accessed from Python through the <a href="https://juliapy.github.io/PythonCall.jl/stable/juliacall/"><code>juliacall</code> package</a>. You should also install the <a href="https://github.com/JuliaPy/PyJuliaPkg"><code>juliapkg</code> package</a> to manage your Julia dependencies. In most configurations these can be easily installed with <code>pip install juliacall</code> and <code>pip install juliapkg</code>. </p><div class="admonition is-info" id="Info-673340b85cd46a67"><header class="admonition-header">Info<a class="admonition-anchor" href="#Info-673340b85cd46a67" title="Permalink"></a></header><div class="admonition-body"><p>The use of a Python virtual environment is recommended as the total installed data volume (Julia, packages, stellar track and bolometric correction files) may be large, and virtual environments can be removed easily when you are finished with them. We recommend the IPython shell as an extension will be loaded alongside <code>juliacall</code> to better display Julia objects.</p></div></div><p>If you don&#39;t already have Julia installed, <code>juliacall</code> can install the Julia runtime when its loaded for the first time. You should do this before moving on and installing packages; from Python, run</p><pre><code class="language-python hljs">from juliacall import Main as jl</code></pre><p>and a Julia runtime should be installed if you do not already have Julia installed.</p><p>To install StellarTracks.jl and BolometricCorrections.jl into your <code>juliapkg</code>, environment, execute the following from Python:</p><pre><code class="language-python hljs">&gt;&gt;&gt; import juliapkg
&gt;&gt;&gt; juliapkg.add(&quot;StellarTracks&quot;)
&gt;&gt;&gt; juliapkg.add(&quot;BolometricCorrections&quot;)</code></pre><p>Now you should be able to load the packages from Python with</p><pre><code class="language-python hljs">&gt;&gt;&gt; from juliacall import Main as jl
&gt;&gt;&gt; jl.seval(&quot;using StellarTracks, BolometricCorrections&quot;)</code></pre><p>after which the contents of the package can be accessed as</p><pre><code class="language-python hljs">&gt;&gt;&gt; jl.StellarTracks.PARSEC.eep_idxs
Julia: (PMS_BEG = 1, MS_BEG = 201, MS_TMIN = 401, MS_TO = 601, RG_TIP = 1101, HE_BEG = 1131, END_CHEB = 1631, TPAGB_BEG = 1731)
&gt;&gt;&gt; jl.StellarTracks.PARSEC.eep_idxs.RG_TIP
1101
&gt;&gt;&gt; jl.BolometricCorrections.YBC.ybc_url
&#39;https://gitlab.com/cycyustc/ybc_tables.git&#39;</code></pre><div class="admonition is-warning" id="Multi-Threading-eebe44a2d1937d26"><header class="admonition-header">Multi-Threading<a class="admonition-anchor" href="#Multi-Threading-eebe44a2d1937d26" title="Permalink"></a></header><div class="admonition-body"><p>Some methods in these packages make use of multi-threading in Julia. When executing <code>from juliacall import Main as jl</code> from Python, you may see a warning like this one printed in the console: </p><p>Julia was started with multiple threads but multithreading support is experimental in JuliaCall. It is recommended to restart Python with the environment variable PYTHON_JULIACALL_HANDLE_SIGNALS=yes set, otherwise you may experience segfaults or other crashes. Note however that this interferes with Python&#39;s own signal handling, so for example Ctrl-C will not raise KeyboardInterrupt. See https://juliapy.github.io/PythonCall.jl/stable/faq/#Is-PythonCall/JuliaCall-thread-safe? for further information. You can suppress this warning by setting PYTHON_JULIACALL_HANDLE_SIGNALS=no.</p><p>In this case, starting Python with the environment variable <code>PYTHON_JULIACALL_HANDLE_SIGNALS=yes</code> is recommended. From a terminal this can be accomplished with <code>PYTHON_JULIACALL_HANDLE_SIGNALS=yes python</code>. Without this setting the multi-threaded functions may cause segmentation faults or other errors.</p></div></div><p>Some self-enclosed examples are given below.</p><h2 id="Example-Isochrone-Generation"><a class="docs-heading-anchor" href="#Example-Isochrone-Generation">Example Isochrone Generation</a><a id="Example-Isochrone-Generation-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Isochrone-Generation" title="Permalink"></a></h2><pre><code class="language-python hljs">&gt;&gt;&gt; from juliacall import Main as jl
&gt;&gt;&gt; import math
&gt;&gt;&gt; jl.seval(&quot;using StellarTracks, BolometricCorrections&quot;)
&gt;&gt;&gt; tracklib = jl.PARSECLibrary()
# We will choose to use Gaia eDR3 bolometric corrections
&gt;&gt;&gt; bcg = jl.YBCGrid(&quot;gaiaEDR3&quot;)
&gt;&gt;&gt; age = 1e9 # Age [yr], 
&gt;&gt;&gt; MH = -1.7 # [M/H] metallicity
&gt;&gt;&gt; Av = 0.02 # Reddening (A_v = 0.02 mag)
&gt;&gt;&gt; iso = jl.isochrone(tracklib, bcg, math.log10(age), MH, Av)
Table with 9 columns and 1709 rows:
      eep  m_ini     logTe    Mbol     logg     C_O  G        G_BP     G_RP
    ┌─────────────────────────────────────────────────────────────────────────
 1  │ 200  0.10134   3.53186  11.8705  5.35728  0.0  12.5144  13.6954  11.4482
 2  │ 201  0.106499  3.54134  11.6584  5.33164  0.0  12.2518  13.3588  11.2163
 3  │ 202  0.107108  3.5424   11.6346  5.32877  0.0  12.2225  13.3218  11.1903
 4  │ 203  0.107746  3.54349  11.6099  5.3258   0.0  12.1921  13.2836  11.1634
 5  │ 204  0.108413  3.54461  11.5844  5.32274  0.0  12.1608  13.2444  11.1356
 6  │ 205  0.10911   3.54575  11.5582  5.31959  0.0  12.1286  13.2041  11.1069
 7  │ 206  0.109835  3.54693  11.5312  5.31636  0.0  12.0957  13.1631  11.0775
 8  │ 207  0.11059   3.54812  11.5036  5.31306  0.0  12.062   13.1213  11.0475
 9  │ 208  0.111373  3.54933  11.4755  5.30968  0.0  12.0276  13.0788  11.0168
 10 │ 209  0.112186  3.55055  11.4468  5.30625  0.0  11.9927  13.0358  10.9856
 ⋮  │  ⋮      ⋮         ⋮        ⋮        ⋮      ⋮      ⋮        ⋮        ⋮</code></pre><p>The returned isochrone <code>iso</code> is a Julia <code>TypedTables.Table</code> object. The columns are Julia vectors and can be accessed as <code>iso.eep</code>, for example. The columns can be interpreted as NumPy arrays:</p><pre><code class="language-python hljs">&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; np.array(iso.m_ini)
array([0.10133962, 0.10649858, 0.10710792, ..., 1.85926778, 1.85927044,
       1.8592731 ], shape=(1709,))</code></pre><h1 id="Example-Track-Generation"><a class="docs-heading-anchor" href="#Example-Track-Generation">Example Track Generation</a><a id="Example-Track-Generation-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Track-Generation" title="Permalink"></a></h1><p>Now we look at interpolating a stellar track at a given initial stellar mass. </p><pre><code class="language-python hljs">&gt;&gt;&gt; from juliacall import Main as jl
&gt;&gt;&gt; import math
&gt;&gt;&gt; jl.seval(&quot;using StellarTracks, BolometricCorrections&quot;)
&gt;&gt;&gt; tracklib = jl.PARSECLibrary()
# We will choose to use Gaia eDR3 bolometric corrections
&gt;&gt;&gt; bcg = jl.YBCGrid(&quot;gaiaEDR3&quot;)
&gt;&gt;&gt; age = 1e9 # Age [yr], 
&gt;&gt;&gt; MH = -1.7 # [M/H] metallicity
&gt;&gt;&gt; Av = 0.02 # Reddening (A_v = 0.02 mag)
&gt;&gt;&gt; m_ini = 0.81 # Initial stellar mass ([solar masses])
&gt;&gt;&gt; track = tracklib(MH, m_ini) # Interpolate a stellar track with correct properties
InterpolatedTrack with M_ini=0.81, MH=-1.6999999999999997, Z=0.0003100162055070581, Y=0.24905182884580257, X=0.7506381549486904.</code></pre><p><code>track</code> is now a stellar track that has been interpolated from the initial PARSEC grid to our desired metallicity and initial stellar mass. Calling <code>track(log10(age [yr]))</code> will now return interpolated quantities at our desired age:</p><pre><code class="language-python hljs">&gt;&gt;&gt; values = track(math.log10(age)) # Interpolate the track at the desired age
(logTe = 3.7973512914337046, Mbol = 5.153244139448194, logg = 4.635189907463032, C_O = 0.0)</code></pre><p>Now, to generate mock photometry in our desired Gaia eDR3 filters, we do</p><pre><code class="language-python hljs"># Interpolate the bolometric correction grid to our desired metallicity, reddening
&gt;&gt;&gt; bcg_interp = bcg(MH, Av)
&gt;&gt;&gt; phot = bcg_interp(values) # Call bolometric correction grid with track values to get mock photometry
3-element StaticArraysCore.SVector{3, Float32} with indices SOneTo(3):
 -0.027466586
 -0.27473205
  0.38811892</code></pre><p>The Julia <code>SVector</code> type of <code>phot</code> is most akin to a tuple, but can also be converted to a NumPy array</p><pre><code class="language-python hljs">&gt;&gt;&gt; tuple(phot)
(-0.027466585859656334, -0.2747320532798767, 0.3881189227104187)
&gt;&gt;&gt; np.array(phot)
array([-0.02746659, -0.27473205,  0.38811892], dtype=float32)</code></pre><p>These are now magnitudes corresponding to the filter names contained in <code>bcg_interp</code>:</p><pre><code class="language-python hljs">&gt;&gt;&gt; [jl.String(s) for s in jl.filternames(bcg_interp)]
[&#39;G&#39;, &#39;G_BP&#39;, &#39;G_RP&#39;]</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../refs/">« Bibliography</a><a class="docs-footer-nextpage" href="../doc_index/">Index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Wednesday 22 October 2025 19:31">Wednesday 22 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
